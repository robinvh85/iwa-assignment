<div id="test-form">
  <%= form_with(model: test, local: true) do |form| %>
    <% if test.errors.any? %>
      <div id="error_explanation">
        <h2>Errors:</h2>

        <ul>
          <% test.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="actions">
      <%= link_to tests_path, class: 'btn btn-outline-primary', data: { turbolinks: false } do %>
        <i class="fa fa-arrow-left" aria-hidden="true"></i>
        Back
      <% end %>

      <%= form.button class: 'btn btn-outline-primary ml-2' do %>
        <i class="fa fa-save" aria-hidden="true"></i>
        Save
      <% end %>

      <%= link_to_add_question('Question', form, class: 'btn btn-outline-primary float-right')  %>

    </div>

    <div class='mt-3'>
      <div class="form-group row">
        <div class="col-sm-3">
          <%= form.label :name, class: "col-form-label" %>
        </div>
        <div class="col-sm-9">
          <%= form.text_field :name,
            maxlength: 50, class: "form-control",
            placeholder: "Give the Test a name here ..." %>
        </div>
      </div>

      <div class="form-group row">
        <div class="col-sm-3">
          <%= form.label :description, class: "col-form-label" %>
        </div>
        <div class="col-sm-9">
          <%= form.text_area :description, class: "form-control",
            placeholder: "Enter a description here ...",
            rows: 6 %>
        </div>
      </div>
    </div>

    <div class="question-form container-form">
      <%= form.fields_for :questions do |question_form| %>
        <%= render 'question', f: question_form %>
      <% end %>
    </div>
  <% end %>
</div>

<%= javascript_pack_tag 'app/tests' %>
